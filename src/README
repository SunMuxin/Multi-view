################### General description ########## 

Python code and data (i.e., ranks and graphs of UKBench dataset) of the following paper:
Shaoting Zhang, Ming Yang, Timothee Cour, Kai Yu, Dimitris N. Metaxas: Query Specific Fusion for Image Retrieval. ECCV (2) 2012: 660-673
http://www.research.rutgers.edu/~shaoting/paper/ECCV12-retrieval.pdf

(Note: This Python code is for the graph fusion algorithm, which is the key contribution of our paper. 
The vocabulary tree system and the hashing method are not included.
Instead, we provide the retrieval results of these two baselines to reproduce the experimental results.
For reference purpose, we use this vocabulary tree system:
Xiaoyu Wang, Ming Yang, Timothee Cour, Shenghuo Zhu, Kai Yu, Tony X. Han: Contextual weighting for vocabulary tree based image retrieval. ICCV 2011: 209-216)

################### How to use ################### 

1. Use "build_rknn_graphs.py" to build graphs for each rank, based on reciprocal kNN and Jaccard similarity

2. Use "graph_fusion.py" to fuse these graphs, using a localized PageRank algorithm or find the weighted maximum density subgraph centered at the query image.

################### Data ######################### 

1. "ukbench_rank_voc.txt" and "ukbench_rank_hsv3d.txt"
Ranks, i.e., retrieval results using two baselines, vocabulary tree and HSV
Needed in "build_rknn_graphs.py"
Format (in each row): 
image_name top_1_ID top_2_ID ...

2. "uk_bench_graphs"
Graphs for each query image
Generated by using "build_rknn_graphs.py" and rank files

3. "ukbench_list_images_labels.txt"
Provide labels (i.e., category names) for each image
Needed in "evaluate.py"

4. "ukbench_graph_list.txt"
List of paths of all graphs
Needed in "graph_fusion.py"